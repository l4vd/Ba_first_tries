qsub -l select=1:ncpus=1:mem=20gb:ngpus=1:accelerator_model=rtx6000 -l walltime=47:59:00 -A "HSS_BA"

qsub -I -l select=1:ncpus=1:mem=20gb:ngpus=1:accelerator_model=rtx6000 -l walltime=47:59:00 -A "HSS_BA"


cd /gpfs/project/ladan102/Ba_try
module load Miniconda/3
conda activate BA
python First_MLP.py 2> error_first_mlp.err 1> output_first_mlp.out
python model_all.py 2> error_all.err 1> output_all.out

PIP_CONFIG_FILE=/software/python/pip.conf pip install --user $PACKAGE_NAME

module avail

pip freeze

pip uninstall -r <(pip freeze)
pip install --upgrade -r <(pip freeze)

module load Miniconda/3

conda create -c http://conda.repo.test.hhu.de/bioconda -c http://conda.repo.test.hhu.de/main -c http://conda.repo.test.hhu.de/conda-forge --override-channels --name my_environment

environment location: /home/ladan102/.conda/envs/BA

conda activate BA

conda install -c http://conda.repo.test.hhu.de/bioconda -c http://conda.repo.test.hhu.de/main -c http://conda.repo.test.hhu.de/conda-forge --override-channels $PACKAGE_NAME

check python version and compat

run file:

If activating your conda environment works for you in interactive mode but not in batch mode, then you might need to source your files .bashrc and .bash_profile.
This is because in interactive mode you'll get a login shell but in batch mode not. In your jobscript such a solution could look as follows:

#!/bin/bash
#PBS -l select=1:ncpus=X:mem=XGB
#PBS -l walltime=X:00:00
#PBS -A 'XXX'
# source bash
source $HOME/.bashrc
source $HOME/.bash_profile

qsub -l select=1:ncpus=1:mem=20gb:ngpus=1:accelerator_model=rtx6000 -l walltime=47:59:00 -A "HSS_BA"

cd /gpfs/project/ladan102/Ba_try
module load Miniconda/3
conda activate BA
python First_MLP.py 2> error_first_mlp.err 1> output_first_mlp.out

cd /gpfs/project/ladan102/Ba_try
module load Miniconda/3
conda activate BA
python MLP_sklearn.py 2> error_sklearn_mlp.err 1> output_sklearn.out

cd /gpfs/project/ladan102/Ba_try
module load Miniconda/3
conda activate BA
python MLP_collab.py 2> error_collab_mlp.err 1> output_collab.out